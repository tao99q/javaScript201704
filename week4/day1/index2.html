<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        html, body {
            width: 100%;
            height: 100%;
            background-color: #2e2e2e;
            background: -webkit-radial-gradient(50px 200px, #aeaeff, #587980, #282423, #807c7f);

        }

        div {
            position: absolute;
            background-color: #fff;
            border-radius: 50%;
            opacity: 0;
        }
        .heart-shape{
            display: none;
            left: 50%;
            top:50%;
            margin-left: -100px;
            margin-top: -100px;
            opacity: 0.4;
            position: relative;
            width: 200px;
            height: 200px;
            -webkit-transform: rotate(45deg);
            -moz-transform: rotate(45deg);
            -ms-transform: rotate(45deg);
            -o-transform: rotate(45deg);
            transform: rotate(45deg);
            background-color: rgb(250, 26, 37);
        }
        .heart-shape:before,
        .heart-shape:after{
            position: absolute;
            width: 200px;
            height: 200px;
            content: '';
            -webkit-border-radius: 50%;
            -moz-border-radius: 50%;
            -o-border-radius: 50%;
            border-radius: 50%;
            background-color: rgb(250, 26, 37);
        }
        .heart-shape:before{
            bottombottom: 0px;
            left: -90px;
        }
        .heart-shape:after{
            top: -90px;
            rightright: 0px;
        }
    </style>
</head>
<body>
<div class="heart-shape"></div>
<script src="js/public.js"></script>
<script src="js/animation升级版1.js"></script>
<script>
    var str = ``;
    for (var i = 0; i < 400; i++) {
        str += `<div></div>`;
    }
    document.body.innerHTML = str;
    var oDis = document.getElementsByTagName("div");

    var winW=public.win("clientWidth");
    var winH=public.win("clientHeight");
    function star() {
        for (var i = 0; i < oDis.length; i++) {
            var wh = public.getRandom(2, 8);
            var time = public.getRandom(100, 500);
            var l = public.getRandom(0, winW- 15);
            var t = public.getRandom(0, winH - 15);
            public.css(oDis[i], {width: wh, height: wh, left: l, top: t});
            function show(ele) {
                animation(ele, {opacity: 1}, time, function () {
                    hide(this);
                })
            };
            function hide(ele) {
                animation(ele, {opacity: 0}, time, function () {
                    show(this);
                })
            }
            show(oDis[i])
        }
    }
    star();
    document.body.onclick=function () {
        for (var i = 0; i < oDis.length; i++){
            animation(oDis[i], {left: 500,top:100}, 100, function () {
                public.css(this,{borderRadius:"100px",background:"radial-gradient(circle at center,red,orange,yellow)"});
                document.body.style.background="-webkit-radial-gradient(50px 50px,#fff, #e4deff, #8a9cdd, #766d80";
                //star();
            })
        }
    }
    document.body.ondblclick=function () {
        for (var i = 0; i < oDis.length; i++){
            if(i%3===0){
                var l=public.css(oDis[i],"left");
                var t=public.css(oDis[i],"top");
                var ln=public.getRandom(0,winW);
                var tn=public.getRandom(t,winH);
                animation(oDis[i], {left: ln,top:tn}, 50, function () {
                    public.css(this,{display:"none"})
                })
            }
        }
    }
</script>
</body>
</html>